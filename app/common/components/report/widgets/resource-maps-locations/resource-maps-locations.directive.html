<div ng-if="loaded">
  <ui-gmap-google-map ng-if="map.markers.models.length"
                      draggable="false"
                      pan="true"
                      center="map.center"
                      zoom="map.zoom"
                      control="map.control"
                      options="map.options"
  >
    <ui-gmap-markers models="map.markers.models"
                     coords="'geo'"
                     type="'cluster'"
                     clusterOptions="map.markers.clusterOptions"
                     idkey="'_id'"
                     fit="true"
                     coords="'self'"
                     events="map.markers.events"
    >
    </ui-gmap-markers>
    <ui-gmap-window
      show="map.window.show"
      coords="map.window.coords"
      options="map.window.options"
      closeClick="map.window.closeClick()"
      templateUrl="map.window.templateUrl"
      templateParameter="map.window"
    >
    </ui-gmap-window>
  </ui-gmap-google-map>
  <div ng-if="!map.markers.models.length" class="text-center">
    You don't have geolocated devices.
  </div>
</div>
<div ng-if="!loaded" class="text-center">
  <i class="fa fa-circle-o-notch fa-spin fa-lg"></i>
</div>
