<div ng-repeat="event in selection.props.events track by event._id"
     class="selection-details-panel"
     ng-class="{ active: selection.details[event._id] }"
>
  <div class="selection-details-content-wrapper">
    <div class="selection-details-content-container">
      <div class="selection-details-content">
        <button
                type="button"
                class="btn btn-hide-details"
                ng-click="selection.details[event._id] = false">
          <i class="fa fa-chevron-left fa-fw"></i>
        </button>
        <div ng-switch="event['@type']">
          <reserve-view resource="event" ng-switch-when="devices:Reserve"></reserve-view>
          <sell-view resource="event" ng-switch-when="devices:Sell"></sell-view>
          <div ng-switch-default>
            <h3>{{ utils.getResourceTitle(event) }}</h3>
            <button
                    type="button"
                    class="btn"
                    ng-click="showDevicesOfEvent(event)">
              View devices
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="selection-details-content">
  <button
          type="button"
          class="btn btn-hide-details"
          ng-click="selection.details[row.title] = false">
    <i class="fa fa-chevron-left fa-fw"></i>
  </button>
  <h3>Events</h3>
  <table class="table table-striped table-hover">
    <thead>
    <tr>
      <th ng-repeat="header in [ 'Event', 'Id', 'Label', 'State', 'Updated']">
          <!--field-sort sort="setSort(sort)" key="{{::th.key}}" name="{{::th.name}}" group="sort"-->
          <!--sort-by-default="th.default"-->
      <strong>{{header}}</strong>
      </th>
    </tr>
    </thead>
    <tbody>
      <tr ng-repeat="event in selection.props.events" ng-click="selection.details[event._id] = true">
        <td>
          {{ event['@type'].substr('devices:'.length) }}
        </td>
        <td ng-repeat="prop in [ '_id', 'label', 'state' ]">
          {{ event[prop]}}
        </td>
        <td>
          {{ event['_updated'] }}
        </td>
      </tr>
    </tbody>
  </table>
</div>
