<div class="row" ng-if="$root._.isArray(snapshots)">
  <ul class="list-inline text-center text-muted" ng-show="::isNotAndroid">
    <li class="text-info">{{waitingToLink}} waiting to link</li>
    <li class="text-success">{{uploaded}} completed</li>
    <li class="text-warning">{{error}} to upload manually</li>
    <li ng-show="attempts === 0">
      <i class="fa fa-link"></i>
      Auto-uploading to {{session.db}} as {{session.account.name || session.account.email}}
    </li>
    <li ng-show="attempts > 0">
      <i class="fa fa-unlink"></i>
      Can't upload. Retrying&hellip;
    </li>
    <li><i class="fa fa-fw fa-wifi"></i>{{ip}}</li>
  </ul>
  <div ng-show="attempts === 1" class="text-warning text-center">
    <i class="fa fa-warning"></i>
    Unstable connection to {{::appName}}. Check Wi-Fi and Internet.
  </div>
  <div ng-show="attempts >= 2" class="alert alert-danger text-center">
    <i class="fa fa-warning fa-lg"></i>
    Connection to {{::appName}} lost. Check Wi-Fi and Internet.
  </div>
  <div class="fill-height-bar">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>System ID</th>
          <th>Model</th>
          <th ng-hide="::isAndroid">Manufacturer</th>
          <th ng-hide="::isAndroid">S/N</th>
          <th>Phase</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="snapshot in snapshots | orderBy:'date':true track by snapshot._uuid"
            ng-class="
          {
            'info': snapshot._phases === snapshot._totalPhases && !snapshot._linked,
            'success': snapshot._saved,
            'warning': snapshot._error
          }
          ">
          <td>{{snapshot.device._id}}</td>
          <td>{{::snapshot.device.model}}</td>
          <td ng-if="::isNotAndroid">{{::snapshot.device.manufacturer}}</td>
          <td ng-if="::isNotAndroid">{{::snapshot.device.serialNumber}}</td>
          <td>
            <div class="center-block">
              {{snapshot._phases}} /
              <small>{{::snapshot._totalPhases}}</small>
              <a ng-show="isNotAndroid && snapshot._saved"
                 ng-href="{{workbenchServer.host}}/snapshots/{{::snapshot._uuid}}"
                 target="_blank"
              >
                <i class="fa fa-lg fa-file fa-fw"></i>
              </a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="text-center">
      <i class="fa fa-ellipsis-h fa-lg"></i>
    </div>
  </div>
</div>
<div class="row text-center" ng-hide="$root._.isArray(snapshots)">
  <div class="col-xs-12">
    <img src="https://www.ereuse.org/files/2017/01/eReuse-Workbench.png" width="300px"
         alt="eReuse.org Workbench" title="eReuse.org Workbench">
    <div ng-if="::isAndroid">
      <h2>Looking for a Workbench Server in the IP:</h2>
      <big>
        <div class="form-group">
          <input type="text" class="form-control" ng-model="workbenchServerAddress"
                 ng-change="setWorkbenchServerAddress(workbenchServerAddress)">
        </div>
      </big>
    </div>
    <div class="col-xs-12" ng-if="::isNotAndroid">
      <h1>Looking for a local Workbench Server&hellip;</h1>
      <h2>Ensure the Workbench Server is ON.</h2>
    </div>
    <div>
      <i class="fa fa-circle-o-notch fa-spin fa-3x"></i>
    </div>
    <p>This page will automatically change once we find a WorkbenchServer.</p>
  </div>
</div>
