<nit-advanced-searchbox
        ng-model="searchParams"
        parameters="availableSearchParams"
        placeholder="Search..."
        template-url="'common/components/device-list/search.html'"
        parameters-display-limit="200">
</nit-advanced-searchbox>
    <div

            style="text-align: center"
            id="selectedMenu"
            class="ani-show"
    >
        <div id="screener" uib-tooltip="Select some devices first." tooltip-enable="selectedDevices.length == 0">
            <div ng-show="selectedDevices.length == 0"></div>
            <span
                    uib-tooltip-template="'common/components/device-list/selected-devices.uib-tooltip-template.html'"
                    tooltip-placement="bottom"
                    id="counter"
            >
                <span>{{selectedDevices.length}} devices</span>
                <i ng-click="unselectDevices()" class="glyphicon glyphicon-remove-circle"></i>
            </span>
            <button
                    type="button"
                    class="btn"
                    ng-click="openModal('Label')"
                    ng-class="{'btn-primary': selectedDevices.length > 0}"
            >
                <i class="glyphicon glyphicon-tags"></i>Label
            </button>
            <manual-events-button devices="selectedDevices"></manual-events-button>
            <share devices="selectedDevices"></share>
        </div>
    </div>
<div class="row">
    <div
            fill-height additional-padding="{{87+20}}"
            ng-class="{'col-xs-12': _.isEmpty(vewingDevice), 'col-xs-5 col-lg-6': !_.isEmpty(vewingDevice)}">
        <div>
            <table id="device-list-table" class="table table-striped table-hover">
                <thead>
                <tr>
                    <th></th><th>Id</th><th>Label</th><th>Model</th><th>Registered in</th>
                </tr>
                </thead>
                <tbody>
                <tr
                        ng-repeat="device in devices"
                        ng-click="toggleDeviceView(device)"
                        ng-class="{success: isSelected(device._id)}"
                        class="ani-default"
                >
                    <td>
                        <input class="device-list-checkbox"
                               type="checkbox"
                               checklist-model="selectedDevices"
                               checklist-value="device"
                               ng-click="$event.stopPropagation(); select_multiple($event, devices, $index);  broadcastSelection()"
                        >
                    </td>
                    <td>{{device._id}}</td>
                    <td>{{device.label}}</td>
                    <td>{{device.model}}</td>
                    <td>{{device._created | date : 'short'}}</td>
                    <td><device-icon icon="{{device['icon']}}"></device-icon></td>
                </tr>
                </tbody>
                <tr></tr>
            </table>
            <div class="text-center" ng-show="!busy && moreData">
                <button class="btn btn-default" ng-click="getDevices(false,true)">Load more</button>
            </div>
        </div>
    </div>
    <device
            api='deviceApi'
            class="col-xs-7 col-lg-6 ani-show"
            ng-hide="_.isEmpty(vewingDevice)"
    ></device>
</div>
